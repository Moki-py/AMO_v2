[
  {
    "timestamp": "2025-04-14T16:36:07.510645",
    "component": "storage",
    "level": "info",
    "message": "Initialized empty file: data/deals.json"
  },
  {
    "timestamp": "2025-04-14T16:36:07.511010",
    "component": "storage",
    "level": "info",
    "message": "Initialized empty file: data/contacts.json"
  },
  {
    "timestamp": "2025-04-14T16:36:07.511315",
    "component": "storage",
    "level": "info",
    "message": "Initialized empty file: data/companies.json"
  },
  {
    "timestamp": "2025-04-14T16:36:07.511649",
    "component": "storage",
    "level": "info",
    "message": "Initialized empty file: data/events.json"
  },
  {
    "timestamp": "2025-04-14T16:36:07.511970",
    "component": "storage",
    "level": "info",
    "message": "Initialized empty file: data/log.json"
  },
  {
    "timestamp": "2025-04-14T16:36:07.514640",
    "component": "server",
    "level": "info",
    "message": "Starting modern UI server on http://localhost:8000"
  },
  {
    "timestamp": "2025-04-14T16:36:47.887581",
    "component": "server",
    "level": "info",
    "message": "Server stopped"
  },
  {
    "timestamp": "2025-04-14T16:37:20.656726",
    "component": "server",
    "level": "info",
    "message": "Starting modern UI server on http://localhost:8000"
  },
  {
    "timestamp": "2025-04-14T16:37:25.561261",
    "component": "server",
    "level": "info",
    "message": "Started export of deals"
  },
  {
    "timestamp": "2025-04-14T16:37:25.832073",
    "component": "auth",
    "level": "warning",
    "message": "No long-term token available"
  },
  {
    "timestamp": "2025-04-14T16:37:25.832925",
    "component": "auth",
    "level": "warning",
    "message": "No long-term token available"
  },
  {
    "timestamp": "2025-04-14T16:37:25.833416",
    "component": "auth",
    "level": "warning",
    "message": "No long-term token available"
  },
  {
    "timestamp": "2025-04-14T16:37:25.833869",
    "component": "auth",
    "level": "error",
    "message": "Token validation failed: No access token available. Please set LONGTERM_TOKEN in the .env file."
  },
  {
    "timestamp": "2025-04-14T16:37:25.834314",
    "component": "main",
    "level": "error",
    "message": "Token validation failed. Please check your LONGTERM_TOKEN in .env"
  },
  {
    "timestamp": "2025-04-14T16:37:38.643288",
    "component": "server",
    "level": "error",
    "message": "Failed to import psutil for stopping processes"
  },
  {
    "timestamp": "2025-04-14T16:37:38.661777",
    "component": "server",
    "level": "error",
    "message": "Failed to import psutil for stopping processes"
  },
  {
    "timestamp": "2025-04-14T16:37:38.663977",
    "component": "server",
    "level": "error",
    "message": "Failed to import psutil for stopping processes"
  },
  {
    "timestamp": "2025-04-14T16:37:39.769883",
    "component": "server",
    "level": "error",
    "message": "Failed to import psutil for stopping processes"
  },
  {
    "timestamp": "2025-04-14T16:39:17.034649",
    "component": "server",
    "level": "info",
    "message": "Server stopped"
  },
  {
    "timestamp": "2025-04-14T16:39:19.151300",
    "component": "server",
    "level": "info",
    "message": "Starting modern UI server on http://localhost:8000"
  },
  {
    "timestamp": "2025-04-14T16:39:24.128542",
    "component": "server",
    "level": "info",
    "message": "Started export of companies"
  },
  {
    "timestamp": "2025-04-14T16:39:24.384326",
    "component": "auth",
    "level": "info",
    "message": "Token saved to file"
  },
  {
    "timestamp": "2025-04-14T16:39:24.385691",
    "component": "auth",
    "level": "info",
    "message": "Created token data from long-term token"
  },
  {
    "timestamp": "2025-04-14T16:39:24.386596",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T16:39:24.785446",
    "component": "auth",
    "level": "error",
    "message": "Token validation failed: 401 Client Error: Not Authorized for url: https://api-a.amocrm.ru/api/v4/account"
  },
  {
    "timestamp": "2025-04-14T16:39:24.789023",
    "component": "main",
    "level": "error",
    "message": "Token validation failed. Please check your LONGTERM_TOKEN in .env"
  },
  {
    "timestamp": "2025-04-14T16:40:05.759096",
    "component": "server",
    "level": "info",
    "message": "Server stopped"
  },
  {
    "timestamp": "2025-04-14T16:40:07.930510",
    "component": "server",
    "level": "info",
    "message": "Starting modern UI server on http://localhost:8000"
  },
  {
    "timestamp": "2025-04-14T16:40:11.784940",
    "component": "server",
    "level": "info",
    "message": "Started export of contacts"
  },
  {
    "timestamp": "2025-04-14T16:40:12.024291",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T16:40:12.025926",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T16:40:12.475514",
    "component": "auth",
    "level": "error",
    "message": "Token validation failed: 402 Client Error: Payment Required for url: https://api.amocrm.ru/api/v4/account"
  },
  {
    "timestamp": "2025-04-14T16:40:12.479749",
    "component": "main",
    "level": "error",
    "message": "Token validation failed. Please check your LONGTERM_TOKEN in .env"
  },
  {
    "timestamp": "2025-04-14T16:40:18.265503",
    "component": "server",
    "level": "info",
    "message": "Server stopped"
  },
  {
    "timestamp": "2025-04-14T17:35:02.058205",
    "component": "server",
    "level": "info",
    "message": "Starting modern UI server on http://localhost:8000"
  },
  {
    "timestamp": "2025-04-14T17:35:18.278379",
    "component": "server",
    "level": "info",
    "message": "Started export of companies"
  },
  {
    "timestamp": "2025-04-14T17:35:18.509889",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T17:35:18.511983",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T17:35:18.992292",
    "component": "auth",
    "level": "error",
    "message": "Token validation failed: 401 Client Error: Not Authorized for url: https://api-a.amocrm.ru/api/v4/account"
  },
  {
    "timestamp": "2025-04-14T17:35:18.993370",
    "component": "auth",
    "level": "error",
    "message": "No refresh token available, falling back to long-term token"
  },
  {
    "timestamp": "2025-04-14T17:35:19.313484",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging long-term token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T17:35:19.314813",
    "component": "auth",
    "level": "error",
    "message": "Token refresh and validation failed: Failed to exchange long-term token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T17:35:19.319103",
    "component": "main",
    "level": "error",
    "message": "Token validation failed. Please check your LONGTERM_TOKEN in .env"
  },
  {
    "timestamp": "2025-04-14T17:36:26.227553",
    "component": "server",
    "level": "info",
    "message": "Server stopped"
  },
  {
    "timestamp": "2025-04-14T18:38:36.503784",
    "component": "server",
    "level": "info",
    "message": "Starting modern UI server on http://localhost:8000"
  },
  {
    "timestamp": "2025-04-14T18:38:40.300967",
    "component": "server",
    "level": "info",
    "message": "Started export of companies"
  },
  {
    "timestamp": "2025-04-14T18:38:40.600735",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T18:38:40.601837",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T18:38:40.956384",
    "component": "auth",
    "level": "error",
    "message": "Token validation failed: 401 Client Error: Not Authorized for url: https://api-a.amocrm.ru/api/v4/account"
  },
  {
    "timestamp": "2025-04-14T18:38:40.958588",
    "component": "auth",
    "level": "error",
    "message": "No refresh token available, trying to get new tokens with authorization code"
  },
  {
    "timestamp": "2025-04-14T18:38:40.959924",
    "component": "auth",
    "level": "error",
    "message": "Missing OAuth2 credentials in config"
  },
  {
    "timestamp": "2025-04-14T18:38:40.961643",
    "component": "auth",
    "level": "error",
    "message": "Token refresh and validation failed: Missing OAuth2 credentials. Please set CLIENT_ID, CLIENT_SECRET, REDIRECT_URI, and AUTHORIZATION_CODE in the .env file."
  },
  {
    "timestamp": "2025-04-14T18:38:40.966802",
    "component": "main",
    "level": "error",
    "message": "Token validation failed. Please check your LONGTERM_TOKEN in .env"
  },
  {
    "timestamp": "2025-04-14T18:41:32.498811",
    "component": "server",
    "level": "info",
    "message": "Server stopped"
  },
  {
    "timestamp": "2025-04-14T18:41:34.612751",
    "component": "server",
    "level": "info",
    "message": "Starting modern UI server on http://localhost:8000"
  },
  {
    "timestamp": "2025-04-14T18:41:39.065400",
    "component": "server",
    "level": "info",
    "message": "Started export of companies"
  },
  {
    "timestamp": "2025-04-14T18:41:39.376814",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T18:41:39.378155",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T18:41:39.697932",
    "component": "auth",
    "level": "error",
    "message": "Token validation failed: 401 Client Error: Not Authorized for url: https://api-a.amocrm.ru/api/v4/account"
  },
  {
    "timestamp": "2025-04-14T18:41:39.700252",
    "component": "auth",
    "level": "error",
    "message": "No refresh token available, trying to get new tokens with authorization code"
  },
  {
    "timestamp": "2025-04-14T18:41:40.413195",
    "component": "auth",
    "level": "info",
    "message": "Token saved to file"
  },
  {
    "timestamp": "2025-04-14T18:41:40.415293",
    "component": "auth",
    "level": "info",
    "message": "Successfully exchanged authorization code for access and refresh tokens"
  },
  {
    "timestamp": "2025-04-14T18:41:40.593023",
    "component": "auth",
    "level": "error",
    "message": "Token refresh and validation failed: 401 Client Error: Not Authorized for url: https://api-a.amocrm.ru/api/v4/account"
  },
  {
    "timestamp": "2025-04-14T18:41:40.598458",
    "component": "main",
    "level": "error",
    "message": "Token validation failed. Please check your LONGTERM_TOKEN in .env"
  },
  {
    "timestamp": "2025-04-14T18:42:59.047214",
    "component": "server",
    "level": "info",
    "message": "Server stopped"
  },
  {
    "timestamp": "2025-04-14T18:43:25.157485",
    "component": "server",
    "level": "info",
    "message": "Starting modern UI server on http://localhost:8000"
  },
  {
    "timestamp": "2025-04-14T18:43:28.414602",
    "component": "server",
    "level": "info",
    "message": "Started export of companies"
  },
  {
    "timestamp": "2025-04-14T18:43:28.675809",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T18:43:28.677382",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T18:43:29.072788",
    "component": "auth",
    "level": "error",
    "message": "Token validation failed: 401 Client Error: Not Authorized for url: https://api-a.amocrm.ru/api/v4/account"
  },
  {
    "timestamp": "2025-04-14T18:43:29.806235",
    "component": "auth",
    "level": "info",
    "message": "Token saved to file"
  },
  {
    "timestamp": "2025-04-14T18:43:29.808773",
    "component": "auth",
    "level": "info",
    "message": "Successfully refreshed access token"
  },
  {
    "timestamp": "2025-04-14T18:43:30.037585",
    "component": "auth",
    "level": "error",
    "message": "Token refresh and validation failed: 401 Client Error: Not Authorized for url: https://api-a.amocrm.ru/api/v4/account"
  },
  {
    "timestamp": "2025-04-14T18:43:30.045587",
    "component": "main",
    "level": "error",
    "message": "Token validation failed. Please check your LONGTERM_TOKEN in .env"
  },
  {
    "timestamp": "2025-04-14T19:23:28.092216",
    "component": "server",
    "level": "info",
    "message": "Server stopped"
  },
  {
    "timestamp": "2025-04-14T19:23:30.424177",
    "component": "server",
    "level": "info",
    "message": "Starting modern UI server on http://localhost:8000"
  },
  {
    "timestamp": "2025-04-14T19:23:46.759261",
    "component": "server",
    "level": "info",
    "message": "Started export of companies"
  },
  {
    "timestamp": "2025-04-14T19:23:47.366875",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T19:23:47.370321",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T19:23:47.723546",
    "component": "auth",
    "level": "error",
    "message": "Token validation failed: 401 Client Error: Not Authorized for url: https://api-a.amocrm.ru/api/v4/account"
  },
  {
    "timestamp": "2025-04-14T19:23:48.573759",
    "component": "auth",
    "level": "info",
    "message": "Token saved to file"
  },
  {
    "timestamp": "2025-04-14T19:23:48.576293",
    "component": "auth",
    "level": "info",
    "message": "Successfully refreshed access token"
  },
  {
    "timestamp": "2025-04-14T19:23:48.795018",
    "component": "auth",
    "level": "error",
    "message": "Token refresh and validation failed: 401 Client Error: Not Authorized for url: https://api-a.amocrm.ru/api/v4/account"
  },
  {
    "timestamp": "2025-04-14T19:23:48.802524",
    "component": "main",
    "level": "error",
    "message": "Token validation failed. Please check your LONGTERM_TOKEN in .env"
  },
  {
    "timestamp": "2025-04-14T19:23:53.794604",
    "component": "server",
    "level": "info",
    "message": "Server stopped"
  },
  {
    "timestamp": "2025-04-14T19:54:00.154262",
    "component": "server",
    "level": "info",
    "message": "Starting modern UI server on http://localhost:8000"
  },
  {
    "timestamp": "2025-04-14T19:54:03.636676",
    "component": "server",
    "level": "info",
    "message": "Started export of companies"
  },
  {
    "timestamp": "2025-04-14T19:54:04.408105",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T19:54:04.409764",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T19:54:04.735395",
    "component": "auth",
    "level": "error",
    "message": "Token validation failed: 401 Client Error: Not Authorized for url: https://api-a.amocrm.ru/api/v4/account"
  },
  {
    "timestamp": "2025-04-14T19:54:05.736109",
    "component": "auth",
    "level": "info",
    "message": "Token saved to file"
  },
  {
    "timestamp": "2025-04-14T19:54:05.738511",
    "component": "auth",
    "level": "info",
    "message": "Successfully refreshed access token"
  },
  {
    "timestamp": "2025-04-14T19:54:06.008417",
    "component": "auth",
    "level": "error",
    "message": "Token refresh and validation failed: 401 Client Error: Not Authorized for url: https://api-a.amocrm.ru/api/v4/account"
  },
  {
    "timestamp": "2025-04-14T19:54:06.019229",
    "component": "main",
    "level": "error",
    "message": "Token validation failed. Please check your LONGTERM_TOKEN in .env"
  },
  {
    "timestamp": "2025-04-14T19:54:36.432617",
    "component": "server",
    "level": "info",
    "message": "Server stopped"
  },
  {
    "timestamp": "2025-04-14T19:54:41.712710",
    "component": "server",
    "level": "info",
    "message": "Starting modern UI server on http://localhost:8000"
  },
  {
    "timestamp": "2025-04-14T19:54:45.523555",
    "component": "server",
    "level": "info",
    "message": "Started export of companies"
  },
  {
    "timestamp": "2025-04-14T19:54:45.833296",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T19:54:45.835097",
    "component": "auth",
    "level": "info",
    "message": "Loaded token from file"
  },
  {
    "timestamp": "2025-04-14T19:54:46.038440",
    "component": "auth",
    "level": "error",
    "message": "Token validation failed: 401 Client Error: Not Authorized for url: https://api-a.amocrm.ru/api/v4/account"
  },
  {
    "timestamp": "2025-04-14T19:54:46.780907",
    "component": "auth",
    "level": "info",
    "message": "Token saved to file"
  },
  {
    "timestamp": "2025-04-14T19:54:46.783615",
    "component": "auth",
    "level": "info",
    "message": "Successfully refreshed access token"
  },
  {
    "timestamp": "2025-04-14T19:54:47.022113",
    "component": "auth",
    "level": "error",
    "message": "Token refresh and validation failed: 401 Client Error: Not Authorized for url: https://api-a.amocrm.ru/api/v4/account"
  },
  {
    "timestamp": "2025-04-14T19:54:47.033942",
    "component": "main",
    "level": "error",
    "message": "Token validation failed. Please check your LONGTERM_TOKEN in .env"
  },
  {
    "timestamp": "2025-04-14T19:54:54.465739",
    "component": "server",
    "level": "info",
    "message": "Server stopped"
  },
  {
    "timestamp": "2025-04-14T19:55:32.708797",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T19:55:32.712175",
    "component": "auth",
    "level": "error",
    "message": "Error loading token: Failed to exchange token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T19:55:32.898168",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T19:55:49.141794",
    "component": "server",
    "level": "info",
    "message": "Starting modern UI server on http://localhost:8000"
  },
  {
    "timestamp": "2025-04-14T19:55:52.078645",
    "component": "server",
    "level": "info",
    "message": "Started export of companies"
  },
  {
    "timestamp": "2025-04-14T19:55:52.508534",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T19:55:52.512012",
    "component": "auth",
    "level": "error",
    "message": "Error loading token: Failed to exchange token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T19:55:52.696499",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T19:56:09.544463",
    "component": "server",
    "level": "info",
    "message": "Server stopped"
  },
  {
    "timestamp": "2025-04-14T19:58:00.334171",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T19:58:00.339105",
    "component": "auth",
    "level": "error",
    "message": "Error loading token: Failed to exchange token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T19:58:00.544615",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T20:03:52.409243",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T20:03:52.413263",
    "component": "auth",
    "level": "error",
    "message": "Error loading token: Failed to exchange token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T20:03:52.669689",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T20:10:12.050781",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T20:10:12.053824",
    "component": "auth",
    "level": "error",
    "message": "Error loading token: Failed to exchange token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T20:10:12.254515",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T20:12:41.169740",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T20:12:41.174644",
    "component": "auth",
    "level": "error",
    "message": "Error loading token: Failed to exchange token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T20:12:41.349897",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T20:21:30.235996",
    "component": "auth",
    "level": "info",
    "message": "Using LONG_TERM_TOKEN to get access_token"
  },
  {
    "timestamp": "2025-04-14T20:21:30.444217",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T20:21:30.447697",
    "component": "auth",
    "level": "error",
    "message": "Error loading token: Failed to exchange token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  },
  {
    "timestamp": "2025-04-14T20:21:30.449993",
    "component": "auth",
    "level": "info",
    "message": "Using LONG_TERM_TOKEN to get access_token"
  },
  {
    "timestamp": "2025-04-14T20:21:30.643370",
    "component": "auth",
    "level": "error",
    "message": "Error exchanging token: 400 Client Error: Bad Request for url: https://wecheap.amocrm.ru/oauth2/access_token"
  }
]